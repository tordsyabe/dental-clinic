<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Dental Clinic</title>

    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
          rel="stylesheet">

    <link rel="stylesheet"
          th:href="@{/webjars/bootstrap/4.4.1-1/css/bootstrap.min.css}">

    <script src="/webjars/jquery/3.4.0/jquery.min.js"></script>

    <script th:href="@{/webjars/bootstrap/4.4.1-1/js/bootstrap.min.js}"></script>


    <link rel="stylesheet"
          th:href="@{/webjars/bootswatch-darkly/4.2.1/bootstrap.min.css}"/>

    <link rel="stylesheet"
          th:href="@{/webjars/font-awesome/4.7.0/css/font-awesome.min.css}"/>

    <link rel="stylesheet" th:href="@{/css/main.css}"/>
    <link rel="stylesheet" th:href="@{/css/procedure.css}"/>

</head>


<body>


<div class="container-fluid">

    <div class="row">

        <!-- SIDEBAR -->
        <div th:replace="fragments/sidebar :: sidebar"></div>
        <!-- MAIN CONTENT -->
        <div class="col-11 offset-1 my-4 pl-0 pr-5">
            <!-- MAIN CONTENT HEADER -->
            <div th:replace="fragments/patientName :: patientName"></div>

            <div th:replace="fragments/contentNav :: contentNav"></div>

            <div class="dropdown-divider"></div>
            <!-- END MAIN CONTENT HEADER -->

            <!-- MAIN CONTENT DETAILS -->
            <form>
                <div class="categories mt-4">

                    <!-- PATIENT DETAILS -->
                    <input type="radio" id="surgery" name="procedure" value="surgery" class="category-toggle">
                    <label for="surgery">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-snowflake-o fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Surgery</span>

                            </div>
                        </div>
                    </label>


                    <input type="radio" id="rootCanal" name="procedure" value="rootCanal" class="category-toggle">
                    <label for="rootCanal">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-grav fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Root Canal</span>

                            </div>
                        </div>
                    </label>

                    <input type="radio" id="hygiene" name="procedure" value="hygiene" class="category-toggle">
                    <label for="hygiene">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-paper-plane fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Hygiene</span>

                            </div>
                        </div>
                    </label>

                    <input type="radio" id="prosthetics" name="procedure" value="prosthetics" class="category-toggle">
                    <label for="prosthetics">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-motorcycle fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Prosthetics</span>

                            </div>
                        </div>
                    </label>

                    <input type="radio" id="restoration" name="procedure" value="restoration" class="category-toggle">
                    <label for="restoration">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-deaf fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Restoration</span>

                            </div>
                        </div>
                    </label>

                    <input type="radio" id="whitening" name="procedure" value="whitening" class="category-toggle">
                    <label for="whitening">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-bomb fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Whitening</span>

                            </div>
                        </div>
                    </label>

                    <input type="radio" id="implantation" name="procedure" value="implantation" class="category-toggle">
                    <label for="implantation">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-cube fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Implantation</span>

                            </div>
                        </div>
                    </label>

                    <input type="radio" id="diagnosis" name="procedure" value="diagnosis" class="category-toggle">
                    <label for="diagnosis">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-compass fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Diagnosis</span>

                            </div>
                        </div>
                    </label>

                    <input type="radio" id="orthodontics" name="procedure" value="orthodontics" class="category-toggle">
                    <label for="orthodontics">
                        <div class="card text-center">
                            <div class="card-body d-flex justify-content-center flex-column">

                                <i class="fa fa-medkit fa-2x mb-2"></i>
                                <br/>
                                <span class="small">Orthodontics</span>

                            </div>
                        </div>
                    </label>


                </div>

                <div class="row mt-5">
                    <div class="col-7 text-center">
                        TEETH LAYOUT GOES HERE!
                    </div>


                    <div class="col-4" id="procedure-list"></div>

                </div>
                <button type="submit" onclick="save()">Save Procedure</button>
            </form>

            <!-- END MAIN CONTENT DETAILS -->
        </div>
        <!-- MAIN CONTENT -->
    </div>

</div>

<script th:src="@{/js/main.js}"></script>
<script>
    const categories = document.querySelectorAll('.category-toggle');


      const categoryLists = [
        {
          surgery: [
            { id: 1, desc: "Permanent tooth extraction", cost: "450" },
            { id: 2, desc: "Wisdom tooth extraction", cost: "5000" },
            { id: 3, desc: "Surgical tooth extraction", cost: "2500" },
          ],
        },

        {
          rootCanal: [
            { id: 1, desc: "Amazing root canal", cost: "8000" },
            { id: 2, desc: "Simple root canal", cost: "3000" },
          ],
        },

        {
          hygiene: [
            { id: 1, desc: "Cleaning", cost: "1000" },
            { id: 2, desc: "Plaque removal", cost: "1500" },
          ],
        },
      ];

       let categoryProcedures = document.querySelector("#procedure-list");

      categories.forEach((category, i) => {
        category.addEventListener("click", function () {
          categoryProcedures.innerHTML = "";
          const processDiv = document.createElement("div");

          categoryLists[i][category.id].forEach((proc, i) => {
            processDiv.innerHTML += `
                            <div class="d-flex justify-content-between">
                            <div>
                                <input id=${proc.id} name="process" type="radio" class="with-font" value="sel"/>
                                <label for=${proc.id}>${proc.desc}</label>

                                </div>
                                <p class="text-muted">${proc.cost}</p>
                            </div>

                `;
          });

          categoryProcedures.appendChild(processDiv);
        });
      });

      function save() {
            console.log('saving');
      }

</script>
</body>
</html>